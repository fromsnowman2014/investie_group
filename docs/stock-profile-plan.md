# Stock Profile ì»´í¬ë„ŒíŠ¸ ê°œë°œ ê³„íšì„œ

## ğŸ“‹ ê°œìš”

Stock Profileì€ ì„ íƒëœ ì£¼ì‹ ì¢…ëª©ì— ëŒ€í•œ **í•µì‹¬ í”„ë¡œí•„ ì •ë³´ë¥¼ 4-5ì¤„ë¡œ ê°„ê²°í•˜ê²Œ ìš”ì•½**í•˜ì—¬ ì œê³µí•˜ëŠ” ì¸í¬ê·¸ë˜í”½ ì»´í¬ë„ŒíŠ¸ì…ë‹ˆë‹¤. Claude AI APIë¥¼ í™œìš©í•˜ì—¬ ì‹¤ì‹œê°„ìœ¼ë¡œ ìƒì„±ë˜ë©°, ê¸°ì¡´ ì»´í¬ë„ŒíŠ¸ë“¤ê³¼ ì¤‘ë³µë˜ì§€ ì•ŠëŠ” ê³ ìœ í•œ ê°€ì¹˜ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

### ğŸ¯ ëª©í‘œ
- **Input**: í˜„ì¬ ì„ íƒëœ ì£¼ì‹ ì¢…ëª©/ticker (ì˜ˆ: AAPL)
- **Output**: Claude AI APIê°€ ìƒì„±í•œ 4-5ì¤„ì˜ í•µì‹¬ í”„ë¡œí•„ ìš”ì•½
- **ë””ìì¸**: ì‹¬í”Œí•˜ë©´ì„œë„ ì§ê´€ì ì¸ ì¸í¬ê·¸ë˜í”½ í˜•íƒœë¡œ ì‹œê°í™”
- **ì°¨ë³„ì **: ê¸°ì¡´ ì»´í¬ë„ŒíŠ¸ì™€ ê²¹ì¹˜ì§€ ì•ŠëŠ” ë…ìì ì¸ í†µì°° ì œê³µ

---

## ğŸ” ê¸°ì¡´ ì»´í¬ë„ŒíŠ¸ ë¶„ì„ ë° ì°¨ë³„í™” ì „ëµ

### í˜„ì¬ ì¡´ì¬í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ë“¤

#### 1. **AIInvestmentOpinion** (AI íˆ¬ì ì˜ê²¬)
- **ì œê³µ ì •ë³´**: BUY/SELL/HOLD ì¶”ì²œ, ì‹ ë¢°ë„, ëª©í‘œê°€, íˆ¬ì ë“±ê¸‰, ì£¼ìš” í¬ì¸íŠ¸, ë¦¬ìŠ¤í¬, ê¸°íšŒ
- **í˜•íƒœ**: ìƒì„¸í•œ íˆ¬ì ë¶„ì„ ë¦¬í¬íŠ¸ (expandable)
- **íŠ¹ì§•**: íˆ¬ì ì˜ì‚¬ê²°ì •ì„ ìœ„í•œ **ì „ëµì /ë¯¸ë˜ì§€í–¥ì ** ë¶„ì„

#### 2. **StockProfile** (ê¸°ì¡´ ì£¼ì‹ í”„ë¡œí•„ - ë™ì¼ ì´ë¦„!)
- **ì œê³µ ì •ë³´**: íšŒì‚¬ëª…, ì„¹í„°, ì‚°ì—…, êµ­ê°€, ì‹œê°€ì´ì•¡, P/E Ratio, ë°°ë‹¹ìˆ˜ìµë¥ , ì§ì› ìˆ˜, ì„¤ë¦½ì—°ë„, ë³¸ì‚¬, ì›¹ì‚¬ì´íŠ¸, íšŒì‚¬ ì„¤ëª…
- **í˜•íƒœ**: ê¸°ì—… ê¸°ë³¸ ì •ë³´ ì¹´ë“œ (expandable)
- **íŠ¹ì§•**: ì •ì ì¸ **ê¸°ì—… ë©”íƒ€ë°ì´í„°** ì¤‘ì‹¬

#### 3. **CompanyProfile** (TradingView ìœ„ì ¯)
- **ì œê³µ ì •ë³´**: TradingViewì˜ Company Profile ìœ„ì ¯
- **í˜•íƒœ**: ì„ë² ë””ë“œ ìœ„ì ¯
- **íŠ¹ì§•**: ì™¸ë¶€ ìœ„ì ¯ (TradingView)

#### 4. **MacroIndicatorsDashboard**
- **ì œê³µ ì •ë³´**: Fear & Greed Index, VIX, S&P 500, ê¸ˆë¦¬, CPI ë“± **ê±°ì‹œê²½ì œ ì§€í‘œ**
- **íŠ¹ì§•**: ì¢…ëª©ê³¼ ë¬´ê´€í•œ ì‹œì¥ ì „ì²´ ë°ì´í„°

#### 5. **AINewsAnalysisReport**
- **ì œê³µ ì •ë³´**: ì¢…ëª© ê´€ë ¨ ìµœì‹  ë‰´ìŠ¤ ë° AI ë¶„ì„
- **íŠ¹ì§•**: **ë‰´ìŠ¤ ê¸°ë°˜** ë‹¨ê¸° ì´ìŠˆ ë¶„ì„

### âš ï¸ ë¬¸ì œì : ì´ë¦„ ì¶©ëŒ
í˜„ì¬ `StockProfile`ì´ë¼ëŠ” ì´ë¦„ì˜ ì»´í¬ë„ŒíŠ¸ê°€ ì´ë¯¸ ì¡´ì¬í•©ë‹ˆë‹¤. ìƒˆë¡œìš´ ì»´í¬ë„ŒíŠ¸ëŠ” **ë‹¤ë¥¸ ì´ë¦„**ì„ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤.

---

## ğŸ’¡ ìƒˆë¡œìš´ ì»´í¬ë„ŒíŠ¸ ì»¨ì…‰: **"AI Stock Snapshot"**

### ğŸ·ï¸ ì»´í¬ë„ŒíŠ¸ ì´ë¦„
**`AIStockSnapshot`** (ë˜ëŠ” `StockInsightCard`)

### ğŸ¨ í•µì‹¬ ì•„ì´ë””ì–´
ê¸°ì¡´ ì»´í¬ë„ŒíŠ¸ë“¤ì´ ë†“ì¹˜ê³  ìˆëŠ” ì˜ì—­ì„ ì±„ìš°ëŠ” **ì¢…í•©ì ì´ê³  ì§ê´€ì ì¸ í•œëˆˆ ìš”ì•½**ì„ ì œê³µí•©ë‹ˆë‹¤.

### ğŸ“Š ì œê³µí•  í•µì‹¬ ë‚´ìš© (4-5ì¤„)

AIê°€ ë‹¤ìŒ ì •ë³´ë¥¼ ì¢…í•©í•˜ì—¬ **4-5ê°œì˜ í•µì‹¬ ë¬¸ì¥**ìœ¼ë¡œ ìš”ì•½:

1. **í˜„ì¬ ì‹œì¥ ìœ„ì¹˜** (Market Position)
   - ì˜ˆ: "AAPLì€ ê¸€ë¡œë²Œ í…Œí¬ ì—…ê³„ ì„ ë‘ì£¼ìë¡œ ì‹œê°€ì´ì•¡ 3ì¡° ë‹¬ëŸ¬ë¥¼ ëŒíŒŒí•˜ë©° ì•ˆì •ì ì¸ ì„±ì¥ì„¸ë¥¼ ìœ ì§€í•˜ê³  ìˆìŠµë‹ˆë‹¤."

2. **ìµœê·¼ í¼í¬ë¨¼ìŠ¤ ìš”ì•½** (Recent Performance)
   - ì˜ˆ: "ì§€ë‚œ 30ì¼ê°„ +12% ìƒìŠ¹í•˜ë©° S&P 500 ëŒ€ë¹„ ë›°ì–´ë‚œ ì„±ê³¼ë¥¼ ë³´ì˜€ìœ¼ë©°, 52ì£¼ ìµœê³ ê°€ ê·¼ì²˜ì—ì„œ ê±°ë˜ ì¤‘ì…ë‹ˆë‹¤."

3. **í•µì‹¬ ê°•ì  ë˜ëŠ” ì£¼ìš” ë™ì¸** (Key Strength/Driver)
   - ì˜ˆ: "iPhone 15 ì‹œë¦¬ì¦ˆì˜ ê°•ë ¥í•œ íŒë§¤ì™€ ì„œë¹„ìŠ¤ ë¶€ë¬¸ì˜ ì§€ì†ì ì¸ ì„±ì¥ì´ ì£¼ê°€ ìƒìŠ¹ì˜ í•µì‹¬ ë™ë ¥ì…ë‹ˆë‹¤."

4. **í˜„ì¬ ë°¸ë¥˜ì—ì´ì…˜ ìƒíƒœ** (Valuation Status)
   - ì˜ˆ: "í˜„ì¬ P/E Ratio 28ë°°ë¡œ ì—…ì¢… í‰ê·  ëŒ€ë¹„ ì†Œí­ í”„ë¦¬ë¯¸ì—„ì´ì§€ë§Œ, ë¸Œëœë“œ ê°€ì¹˜ì™€ ìˆ˜ìµì„±ì„ ê³ ë ¤í•˜ë©´ í•©ë¦¬ì  ìˆ˜ì¤€ì…ë‹ˆë‹¤."

5. **ë‹¨ê¸° ì£¼ëª© í¬ì¸íŠ¸** (Near-term Watch)
   - ì˜ˆ: "ë‹¤ìŒ ì£¼ ì‹¤ì  ë°œí‘œë¥¼ ì•ë‘ê³  ì‹œì¥ì˜ ê´€ì‹¬ì´ ì§‘ì¤‘ë˜ì–´ ìˆìœ¼ë©°, ê°€ì´ë˜ìŠ¤ê°€ ì£¼ê°€ ë°©í–¥ì„±ì„ ê²°ì •í•  ì „ë§ì…ë‹ˆë‹¤."

### ğŸš« ì œì™¸í•  ë‚´ìš© (ì¤‘ë³µ ë°©ì§€)
- âŒ **BUY/SELL/HOLD ì¶”ì²œ** â†’ AIInvestmentOpinionì´ ë‹´ë‹¹
- âŒ **ìƒì„¸ ê¸°ì—… ì •ë³´** (ì„¤ë¦½ì—°ë„, ë³¸ì‚¬, ì›¹ì‚¬ì´íŠ¸) â†’ StockProfileì´ ë‹´ë‹¹
- âŒ **ë§¤í¬ë¡œ ê²½ì œ ì§€í‘œ** â†’ MacroIndicatorsDashboardê°€ ë‹´ë‹¹
- âŒ **ë‰´ìŠ¤ ê¸°ì‚¬ ìš”ì•½** â†’ AINewsAnalysisReportê°€ ë‹´ë‹¹

### âœ… ì°¨ë³„í™” í¬ì¸íŠ¸
- **í˜„ì¬ ì‹œì ì˜ ì¢…ëª© "ìƒíƒœ"ë¥¼ í•œëˆˆì— íŒŒì•…**
- **íˆ¬ì ì¶”ì²œ ì—†ì´ ì¤‘ë¦½ì ì¸ íŒ©íŠ¸ ê¸°ë°˜ ìš”ì•½**
- **ìˆ«ìì™€ íŠ¸ë Œë“œë¥¼ ìì—°ìŠ¤ëŸ¬ìš´ ë¬¸ì¥ìœ¼ë¡œ í•´ì„**
- **ì „ë¬¸ê°€ê°€ ì£¼ì‹ì„ 5ë¬¸ì¥ìœ¼ë¡œ ì†Œê°œí•œë‹¤ë©´?**

---

## ğŸ¨ ë””ìì¸ ì»¨ì…‰: ì‹¬í”Œí•œ ì¸í¬ê·¸ë˜í”½

### UI ë ˆì´ì•„ì›ƒ (1ë‹¨ ì¹´ë“œ í˜•íƒœ)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“¸ AI Stock Snapshot                      AAPL â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                 â”‚
â”‚  ğŸ’¼ [ë¬¸ì¥ 1: ì‹œì¥ ìœ„ì¹˜]                         â”‚
â”‚  ğŸ“ˆ [ë¬¸ì¥ 2: ìµœê·¼ í¼í¬ë¨¼ìŠ¤]                     â”‚
â”‚  ğŸš€ [ë¬¸ì¥ 3: í•µì‹¬ ê°•ì /ë™ì¸]                    â”‚
â”‚  ğŸ’° [ë¬¸ì¥ 4: ë°¸ë¥˜ì—ì´ì…˜]                        â”‚
â”‚  ğŸ‘€ [ë¬¸ì¥ 5: ë‹¨ê¸° ì£¼ëª© í¬ì¸íŠ¸]                  â”‚
â”‚                                                 â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚  ğŸ¤– AI-generated summary | Updated: 2 mins ago â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ì‹œê°ì  íŠ¹ì§•
- **ì•„ì´ì½˜ + ë¬¸ì¥** ì¡°í•©ìœ¼ë¡œ ê°€ë…ì„± ê·¹ëŒ€í™”
- **ì»´íŒ©íŠ¸í•œ ë†’ì´** (200-250px ì •ë„)
- **ê·¸ë¼ë°ì´ì…˜ ë°°ê²½** (ì—°í•œ ë¸”ë£¨ â†’ í™”ì´íŠ¸)
- **ê° ë¬¸ì¥ì€ 1ì¤„ë¡œ ì œí•œ** (ëª¨ë°”ì¼ ëŒ€ì‘)

---

## ğŸ”§ ê¸°ìˆ  êµ¬í˜„ ê³„íš

### 1. Claude AI API í™œìš© (Anthropic)

#### 1.1 Vercel Edge Function êµ¬í˜„
```typescript
// apps/web/app/api/ai-stock-snapshot/route.ts
import Anthropic from '@anthropic-ai/sdk';
import { NextRequest, NextResponse } from 'next/server';

export const runtime = 'edge';

export async function POST(req: NextRequest) {
  const { symbol } = await req.json();

  if (!symbol) {
    return NextResponse.json({ error: 'Symbol is required' }, { status: 400 });
  }

  try {
    const snapshot = await generateStockSnapshot(symbol);
    return NextResponse.json({ success: true, data: snapshot });
  } catch (error) {
    console.error('AI Stock Snapshot Error:', error);
    return NextResponse.json(
      { error: 'Failed to generate stock snapshot' },
      { status: 500 }
    );
  }
}

async function generateStockSnapshot(symbol: string) {
  const anthropic = new Anthropic({
    apiKey: process.env.ANTHROPIC_API_KEY,
  });

  const prompt = buildSnapshotPrompt(symbol);

  const message = await anthropic.messages.create({
    model: 'claude-3-5-sonnet-20241022',
    max_tokens: 500,
    temperature: 0.3,
    messages: [
      {
        role: 'user',
        content: prompt
      }
    ]
  });

  const content = message.content[0].text;
  return parseSnapshot(content, symbol);
}

function buildSnapshotPrompt(symbol: string): string {
  const today = new Date().toISOString().split('T')[0];

  return `
ë‹¹ì‹ ì€ ê¸ˆìœµ ì• ë„ë¦¬ìŠ¤íŠ¸ì…ë‹ˆë‹¤. ${symbol} ì£¼ì‹ì— ëŒ€í•œ ê°„ê²°í•œ ìŠ¤ëƒ…ìƒ·ì„ ì‘ì„±í•´ì£¼ì„¸ìš”.

## ìš”êµ¬ì‚¬í•­
- **ì •í™•íˆ 5ê°œì˜ ë¬¸ì¥**ìœ¼ë¡œ ì‘ì„±
- ê° ë¬¸ì¥ì€ **40-60ì ì´ë‚´**ë¡œ ì œí•œ
- íˆ¬ì ì¶”ì²œ(BUY/SELL/HOLD) **ì œì™¸** - íŒ©íŠ¸ë§Œ ì „ë‹¬
- ìµœì‹  ë°ì´í„°(${today} ê¸°ì¤€) ì‚¬ìš©

## í¬í•¨ ë‚´ìš©
1. í˜„ì¬ ì‹œì¥ ìœ„ì¹˜ (ì‹œê°€ì´ì•¡, ì—…ê³„ ì§€ìœ„)
2. ìµœê·¼ 30ì¼ í¼í¬ë¨¼ìŠ¤ ìš”ì•½ (ì£¼ê°€ ë³€ë™, ë²¤ì¹˜ë§ˆí¬ ëŒ€ë¹„)
3. í•µì‹¬ ì„±ì¥ ë™ë ¥ ë˜ëŠ” ì£¼ìš” ê°•ì 
4. ë°¸ë¥˜ì—ì´ì…˜ ìƒíƒœ (P/E, PEG ë“±)
5. ë‹¨ê¸° ì£¼ëª© í¬ì¸íŠ¸ (ì–´ë‹, ì´ë²¤íŠ¸ ë“±)

## ì¶œë ¥ í˜•ì‹
ê° ë¬¸ì¥ì„ í•œ ì¤„ì”© ë²ˆí˜¸ ì—†ì´ ì¶œë ¥:
[ë¬¸ì¥ 1]
[ë¬¸ì¥ 2]
[ë¬¸ì¥ 3]
[ë¬¸ì¥ 4]
[ë¬¸ì¥ 5]
`;
}

function parseSnapshot(content: string, symbol: string) {
  const lines = content
    .split('\n')
    .map(line => line.trim())
    .filter(line => line.length > 0);

  // ìµœëŒ€ 5ê°œ ë¬¸ì¥ë§Œ ì‚¬ìš©
  const sentences = lines.slice(0, 5);

  return {
    symbol,
    sentences,
    timestamp: new Date().toISOString()
  };
}
```

### 2. Frontend ì»´í¬ë„ŒíŠ¸ êµ¬í˜„

```tsx
// apps/web/src/app/components/AIAnalysis/AIStockSnapshot.tsx
'use client';

import React from 'react';
import useSWR from 'swr';
import { edgeFunctionFetcher } from '@/lib/api-utils';

interface AIStockSnapshotProps {
  symbol: string;
}

interface SnapshotData {
  symbol: string;
  sentences: string[];
  timestamp: string;
}

const SENTENCE_ICONS = ['ğŸ’¼', 'ğŸ“ˆ', 'ğŸš€', 'ğŸ’°', 'ğŸ‘€'];

export default function AIStockSnapshot({ symbol }: AIStockSnapshotProps) {
  const { data, error, isLoading } = useSWR<SnapshotData>(
    symbol ? `ai-snapshot-${symbol}` : null,
    async () => {
      const response = await fetch('/api/ai-stock-snapshot', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ symbol })
      });

      if (!response.ok) throw new Error('Failed to fetch snapshot');

      const result = await response.json();
      return result.data;
    },
    {
      refreshInterval: 30 * 60 * 1000, // 30ë¶„ë§ˆë‹¤ ê°±ì‹ 
      revalidateOnFocus: false,
      dedupingInterval: 10 * 60 * 1000,
    }
  );

  if (isLoading) {
    return (
      <div className="ai-stock-snapshot skeleton">
        <div className="snapshot-header">
          <span className="snapshot-title">ğŸ“¸ AI Stock Snapshot</span>
          <span className="snapshot-symbol">{symbol}</span>
        </div>
        <div className="snapshot-content">
          {[1, 2, 3, 4, 5].map(i => (
            <div key={i} className="skeleton-line"></div>
          ))}
        </div>
      </div>
    );
  }

  if (error || !data?.sentences) {
    return (
      <div className="ai-stock-snapshot error">
        <div className="snapshot-header">
          <span className="snapshot-title">ğŸ“¸ AI Stock Snapshot</span>
        </div>
        <div className="error-message">
          âš ï¸ ìŠ¤ëƒ…ìƒ·ì„ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.
        </div>
      </div>
    );
  }

  const timeAgo = getTimeAgo(data.timestamp);

  return (
    <div className="ai-stock-snapshot">
      {/* Header */}
      <div className="snapshot-header">
        <span className="snapshot-title">ğŸ“¸ AI Stock Snapshot</span>
        <span className="snapshot-symbol">{symbol}</span>
      </div>

      {/* Content - 5 sentences with icons */}
      <div className="snapshot-content">
        {data.sentences.map((sentence, index) => (
          <div key={index} className="snapshot-item">
            <span className="snapshot-icon">{SENTENCE_ICONS[index]}</span>
            <span className="snapshot-text">{sentence}</span>
          </div>
        ))}
      </div>

      {/* Footer */}
      <div className="snapshot-footer">
        <span className="ai-badge">ğŸ¤– AI-generated summary</span>
        <span className="timestamp">Updated: {timeAgo}</span>
      </div>
    </div>
  );
}

function getTimeAgo(timestamp: string): string {
  const now = new Date();
  const past = new Date(timestamp);
  const diffMs = now.getTime() - past.getTime();
  const diffMins = Math.floor(diffMs / 60000);

  if (diffMins < 1) return 'just now';
  if (diffMins < 60) return `${diffMins} mins ago`;

  const diffHours = Math.floor(diffMins / 60);
  if (diffHours < 24) return `${diffHours} hours ago`;

  const diffDays = Math.floor(diffHours / 24);
  return `${diffDays} days ago`;
}
```

### 3. ìŠ¤íƒ€ì¼ë§ (ê°„ì†Œí™”ëœ CSS)

```css
/* apps/web/src/app/styles/ai-stock-snapshot.css */
.ai-stock-snapshot {
  background: linear-gradient(135deg, #f0f9ff 0%, #ffffff 100%);
  border-radius: 12px;
  padding: 20px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
  border: 1px solid #e0f2fe;
  max-width: 100%;
}

.snapshot-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 16px;
  padding-bottom: 12px;
  border-bottom: 2px solid #bfdbfe;
}

.snapshot-title {
  font-size: 16px;
  font-weight: 600;
  color: #1e40af;
}

.snapshot-symbol {
  font-size: 14px;
  font-weight: 700;
  color: #3b82f6;
  background: #dbeafe;
  padding: 4px 12px;
  border-radius: 6px;
}

.snapshot-content {
  display: flex;
  flex-direction: column;
  gap: 12px;
  margin-bottom: 16px;
}

.snapshot-item {
  display: flex;
  align-items: flex-start;
  gap: 10px;
  line-height: 1.5;
}

.snapshot-icon {
  font-size: 18px;
  flex-shrink: 0;
  width: 24px;
}

.snapshot-text {
  font-size: 14px;
  color: #1f2937;
  flex: 1;
}

.snapshot-footer {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding-top: 12px;
  border-top: 1px solid #e5e7eb;
  font-size: 11px;
  color: #6b7280;
}

.ai-badge {
  font-weight: 500;
}

.timestamp {
  font-style: italic;
}

/* Loading State */
.ai-stock-snapshot.skeleton .skeleton-line {
  height: 20px;
  background: linear-gradient(90deg, #e5e7eb 25%, #f3f4f6 50%, #e5e7eb 75%);
  background-size: 200% 100%;
  animation: skeleton-loading 1.5s infinite;
  border-radius: 4px;
  margin-bottom: 12px;
}

@keyframes skeleton-loading {
  0% { background-position: 200% 0; }
  100% { background-position: -200% 0; }
}

/* Error State */
.ai-stock-snapshot.error .error-message {
  text-align: center;
  color: #ef4444;
  padding: 20px;
  font-size: 14px;
}

/* Mobile Responsive */
@media (max-width: 640px) {
  .snapshot-text {
    font-size: 13px;
  }

  .snapshot-icon {
    font-size: 16px;
    width: 20px;
  }
}
```

---

## ğŸ” í™˜ê²½ ë³€ìˆ˜ ì„¤ì •

```bash
# apps/web/.env.local
ANTHROPIC_API_KEY=sk-ant-api03-...
```

---

## ğŸ“Š ë°ì´í„° í”Œë¡œìš°

```
ì‚¬ìš©ì ì¢…ëª© ì„ íƒ (AAPL)
         â†“
AIStockSnapshot ì»´í¬ë„ŒíŠ¸ ë Œë”ë§
         â†“
SWR: /api/ai-stock-snapshot POST {symbol: "AAPL"}
         â†“
Vercel Edge Function
         â†“
Claude AI API í˜¸ì¶œ (í”„ë¡¬í”„íŠ¸ ì „ì†¡)
         â†“
Claudeê°€ ìµœì‹  ë°ì´í„° ê¸°ë°˜ 5ë¬¸ì¥ ìƒì„±
         â†“
ì‘ë‹µ íŒŒì‹± ë° ë°˜í™˜
         â†“
SWR ìºì‹± (30ë¶„)
         â†“
UI ë Œë”ë§ (ì•„ì´ì½˜ + ë¬¸ì¥)
```

---

## ğŸš€ êµ¬í˜„ ìš°ì„ ìˆœìœ„

### Phase 1: í•µì‹¬ ê¸°ëŠ¥ (ì¦‰ì‹œ êµ¬í˜„)
- [x] Vercel Edge Function (`/api/ai-stock-snapshot`)
- [x] Claude AI API í†µí•©
- [x] í”„ë¡¬í”„íŠ¸ ì—”ì§€ë‹ˆì–´ë§ (5ë¬¸ì¥ ì œì•½)
- [x] Frontend ì»´í¬ë„ŒíŠ¸ (`AIStockSnapshot.tsx`)
- [x] ê¸°ë³¸ ìŠ¤íƒ€ì¼ë§

### Phase 2: UX ê°œì„ 
- [ ] ë¡œë”© ìŠ¤ì¼ˆë ˆí†¤ ì• ë‹ˆë©”ì´ì…˜
- [ ] ì—ëŸ¬ í•¸ë“¤ë§ ë° ì¬ì‹œë„ ë²„íŠ¼
- [ ] íƒ€ì„ìŠ¤íƒ¬í”„ í‘œì‹œ ê°œì„ 
- [ ] ë‹¤í¬ëª¨ë“œ ì§€ì›

### Phase 3: ê³ ë„í™”
- [ ] ì‚¬ìš©ì í”¼ë“œë°± ìˆ˜ì§‘ (ğŸ‘/ğŸ‘)
- [ ] í”„ë¡¬í”„íŠ¸ A/B í…ŒìŠ¤íŠ¸
- [ ] ìºì‹œ ì „ëµ ìµœì í™”
- [ ] ë‹¤êµ­ì–´ ì§€ì› (ì˜ì–´/í•œêµ­ì–´ í† ê¸€)

---

## ğŸ¯ ì„±ê³µ ì§€í‘œ

1. **ê°„ê²°ì„±**: 5ë¬¸ì¥ ì´ë‚´ë¡œ í•µì‹¬ ì •ë³´ ì „ë‹¬
2. **ì°¨ë³„ì„±**: ê¸°ì¡´ ì»´í¬ë„ŒíŠ¸ì™€ 0% ì¤‘ë³µ
3. **ê°€ë…ì„±**: í‰ê·  10ì´ˆ ì´ë‚´ ì½ê¸° ì™„ë£Œ
4. **ì •í™•ì„±**: AI ìƒì„± ì •ë³´ì˜ íŒ©íŠ¸ ì²´í¬ í†µê³¼ìœ¨ 95%+
5. **ì„±ëŠ¥**: ì‘ë‹µ ì‹œê°„ 3ì´ˆ ì´ë‚´, ìºì‹œ íˆíŠ¸ìœ¨ 80%+

---

## ğŸ“ ì¶”ê°€ ê³ ë ¤ì‚¬í•­

### API ë¹„ìš© ìµœì í™”
- **ìºì‹±**: 30ë¶„ TTLë¡œ ë™ì¼ ì‹¬ë³¼ ì¤‘ë³µ í˜¸ì¶œ ë°©ì§€
- **í† í° ì œí•œ**: max_tokens=500ìœ¼ë¡œ ë¹„ìš© í†µì œ
- **Rate Limiting**: ì‚¬ìš©ìë‹¹ ë¶„ë‹¹ 3íšŒ ì œí•œ

### ì—ëŸ¬ ì²˜ë¦¬
- API ì‹¤íŒ¨ ì‹œ fallback ë©”ì‹œì§€ í‘œì‹œ
- ì¬ì‹œë„ ë¡œì§ (ìµœëŒ€ 2íšŒ)
- Sentry ë¡œê¹…ìœ¼ë¡œ ì—ëŸ¬ ëª¨ë‹ˆí„°ë§

### í’ˆì§ˆ ê´€ë¦¬
- í”„ë¡¬í”„íŠ¸ ë²„ì „ ê´€ë¦¬ (Git)
- ì£¼ê¸°ì ì¸ ì¶œë ¥ ìƒ˜í”Œ ê²€í† 
- ì‚¬ìš©ì í”¼ë“œë°± ìˆ˜ì§‘ ë° ë°˜ì˜

---

## âœ… ê²°ë¡ 

**AIStockSnapshot** ì»´í¬ë„ŒíŠ¸ëŠ” ê¸°ì¡´ì˜ ìƒì„¸í•œ ë¶„ì„ ì»´í¬ë„ŒíŠ¸ë“¤ ì‚¬ì´ì—ì„œ **"í•œëˆˆì— ë³´ëŠ” ì¢…ëª© ìƒíƒœ"**ë¼ëŠ” ë…ìì ì¸ ê°€ì¹˜ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

- **AIInvestmentOpinion**: "íˆ¬ìí•´ì•¼ í• ê¹Œ?" â†’ ì „ëµ
- **StockProfile**: "ì´ íšŒì‚¬ëŠ” ëˆ„êµ¬ì¸ê°€?" â†’ ì •ë³´
- **AIStockSnapshot**: "ì§€ê¸ˆ ì´ ì¢…ëª©ì€ ì–´ë–¤ ìƒíƒœì¸ê°€?" â†’ **í˜„í™© ìš”ì•½**

ì‹¬í”Œí•œ ë””ìì¸ê³¼ AIì˜ ìì—°ì–´ ìƒì„± ëŠ¥ë ¥ì„ ê²°í•©í•˜ì—¬, ì‚¬ìš©ìê°€ ê°€ì¥ ë¨¼ì € ì½ê³  ì‹¶ì–´í•˜ëŠ” **í•µì‹¬ ìŠ¤ëƒ…ìƒ·**ì„ ì œê³µí•˜ëŠ” ê²ƒì´ ëª©í‘œì…ë‹ˆë‹¤.
